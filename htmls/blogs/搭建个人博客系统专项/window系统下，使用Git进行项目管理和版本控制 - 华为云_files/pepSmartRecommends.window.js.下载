!function(e,n){e.pepSmartRecommends=n()}(window,(function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/build/",t(t.s=4)}([function(e,n){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,n){e.exports=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){return Object.prototype.toString.call(e)==="[object ".concat(n,"]")}},function(e,n,t){e.exports=t(5)},function(e,n,t){"use strict";var r=t(0);Object.defineProperty(n,"__esModule",{value:!0}),n.mediaQuery=_,n.render=function(e){var n=u(u({},p),e),t=n.customerId,r=n.content,a=n.extend,i=n.containerSelector,l=n.adCount,f=n.defaultStyle,h=n.size,b=n.isRenderInMb,y=n.adType,w=n.extParams,O=n.error,j=n.adPlan,I=m(a);I.adPlan&&(j=I.adPlan);var P=document.querySelector(i);if(!P)return void console.warn("找不到渲染内容的容器");!function(e){var n=e.customerId,t=e.adType,r=e.adPlan,a=e.extParams,o=e.adCount,i=e.defaultStyle,d=e.size,l=e.content,p=e.isRenderInMb,f=e.extend,h=e.success,b=e.error;!function(e){var n=e.customerId,t=e.extend,r=e.adCount,a=e.adType,o=e.isRenderInMb,i=e.extParams,s=e.size,d=e.success,l=e.error,p=m(t),f=m(i),h=p.adPlan,b=_(767)?"PC":"MOBILE";if("MOBILE"===b&&!o)return void d([]);if("0"!==a){if(!n)return console.error("参数customerId不能为空！"),void l();if(!h)return console.error("参数adPlan不能为空！"),void l();var x=-1!==window.location.href.indexOf("ulanqab.huawei.com")||-1!==window.location.href.indexOf("ulanqab.huawei.com")?"https://portal.ulanqab.huawei.com/rest/cbc/portalapppublishservice/v1/ad/intelligent":"https://portal.huaweicloud.com/rest/cbc/portalapppublishservice/v1/ad/intelligent",g=[],y={count:10,planCode:h,customerId:n,type:b};!(w=f)||0===Object.keys(w).length&&w.constructor===Object||(y=u(u({},y),f)),g.push({url:x,headers:{"x-auth-customerId":n},xhrFields:{withCredentials:!1},data:y}),(0,c.ajaxMultiple)(g,(function(){}),(function(){}),(function(){var t,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(o&&null!=o&&o.status&&null!=o&&null!==(t=o.data)&&void 0!==t&&t.content&&0!==(null==o||null===(a=o.data)||void 0===a?void 0:a.content.length)))return d(v(u(u({},e),p))),void l();d(v(u({customerId:n,adCount:r,size:s},o.data)))}))}else d(v(u(u({},e),p)));var w}({customerId:n,adPlan:r,adType:t,size:d,adCount:o,extParams:a,isRenderInMb:p,content:l,extend:f,success:function(e){if(e&&0!==e.length){var n,t,r;if(o>1)n=g(function(e){var n="";return e.forEach((function(e){var t="",r=["ad_assetname","ad_name"];Object.keys(e.mate).forEach((function(n){!r.includes(n)&&e.mate[n]&&(t+=" bi_rec_param_".concat(n,'="').concat(e.mate[n]||"",'"'))})),r.forEach((function(n){t+=" data_".concat(n,'="').concat(e.mate[n]||"",'"')}));var a='\n<div class="pep-smart-recommends-col">\n    <a class="pep-smart-recommends-card"\n        href="'.concat(e.href,'"\n        target="_blank"\n        bi_rec_name="').concat(e.mate.ad_assetname,'"\n        ').concat(t,'\n    >\n        <img class="pep-smart-recommends-card-img" src="').concat(e.assetUrl,'"/>\n    </a>\n</div>\n');n+=a})),'\n<div class="pep-smart-recommends-container" bi_rec_parent_name="智能推荐">\n    <div class="pep-smart-recommends-wrapper">\n        '.concat(n,"\n    </div>\n</div>\n")}(e)),"multiImgConsole"===i&&(r=(0,s.default)(d,"number")?d/3:Number(d)/3),t=x(r?"multiImgConsole":i,r);else n=g(function(e){var n="",t="100%",r="100%";return e.forEach((function(e){var a="";e.width&&(t=e.width),e.height&&(r=e.height);var o=["ad_assetname","ad_name"];Object.keys(e.mate).forEach((function(n){!o.includes(n)&&e.mate[n]&&(a+=" bi_rec_param_".concat(n,'="').concat(e.mate[n]||"",'"'))})),o.forEach((function(n){a+=" data_".concat(n,'="').concat(e.mate[n]||"",'"')}));var i='\n            <a  class="pep-smart-recommend-img-card" href="'.concat(e.href,'" ').concat(a,' target="_blank" bi_rec_name="').concat(e.mate.ad_assetname,'">  \n                <img class="portal-smart-recommends-card-title" src="').concat(e.assetUrl,'"/>\n            </a>\n        ');n+=i})),'\n        <div class="pep-ad-img-wrapper" style="width:'.concat(t,";height:").concat(r,';">\n            ').concat(n,"\n        </div>")}(e)),t=x(i);n.insertBefore(t,n.firstChild),h(n,e)}else b()},error:b})}({adType:y,containerSelector:i,customerId:t,adPlan:j,extend:a,size:h,adCount:l,isRenderInMb:b,defaultStyle:f,extParams:w,content:r,success:function(e){P.innerHTML="",P.appendChild(e),function(e){Array.from(e.querySelectorAll("a")).forEach((function(e){var n=null;e.addEventListener("mousedown",(function(){var t;if(window.onEvent)if(n){var s;(s=window).onEvent.apply(s,(0,o.default)(n))}else{var d=r("click",e),l=i(e),p=a(e),m=u({},c(e));n=[p,d,l,1,m],(t=window).onEvent.apply(t,(0,o.default)(n))}}))}));var n=function n(){var t;if(window.onEvent){var o=["rec_material","rec_source","rec_position"],s="",d="",l="",p={};Array.from(e.querySelectorAll("a")).forEach((function(n){var t=u({},c(n));Object.keys(t).forEach((function(e){var n=p[e];n?-1!==o.indexOf(e)&&(p[e]=n+";"+t[e]):p[e]=t[e]})),d||(d=a(n)),l||(l=i(n,e)),s||(s=r("view",n))}));var m=[d,s,l,1,p];(t=window).onEvent.apply(t,m)}else setTimeout((function(){n()}),200)};if((0,d.default)(e))n();else{var t=function t(){(0,d.default)(e)&&(window.removeEventListener("scroll",t),window.removeEventListener("resize",t),n())};window.addEventListener("scroll",t),window.addEventListener("resize",t)}function r(e,n){var t=n&&n.getAttribute("data_ad_assetname")||"";return"".concat(e,"_").concat(t)}function a(e){var n=window.location,t=window.location.pathname,r=t.substring(t.lastIndexOf("/")+1,t.indexOf(".")),a=e&&(e.getAttribute("data_ad_name")||e.innerText.trim())||"",o=e&&(e.getAttribute("bi_rec_param_rec_position")||e.innerText.trim())||"";return"".concat(r,"_").concat(a,"_").concat(o,"_").concat(n.href)}function i(e,n){var t=e&&e.getAttribute("bi_rec_param_ad_plan")||"",r=e&&e.getAttribute("bi_rec_param_ad_space")||"",a=e&&e.getAttribute("bi_rec_param_ad_activity")||"",o=[];n?Array.from(n.querySelectorAll("a")).forEach((function(e){e&&e.getAttribute("bi_rec_param_ad_assetid")&&o.push(e.getAttribute("bi_rec_param_ad_assetid"))})):o.push(e&&(e.getAttribute("bi_rec_param_ad_assetid")||e.innerText.trim())||"");var i=o.filter((function(e){return e})).join(";");return"ad_".concat(r,"_").concat(t,"_").concat(a,"_").concat(i)}function c(e){var n={};return Array.from(e.attributes).forEach((function(e){if(0===e.name.indexOf("bi_rec_param_")){var t=e.name.substring("bi_rec_param_".length);n[t]=e.value}})),n}}(e)},error:O})},n.getCookie=function(e){for(var n={},t=[],r=document.cookie.split(";"),a=0,o=r.length;a<o;a++)r[a]&&(t=r[a].split("="),n[t[0].trim()]=t[1].trim());return n[e]};var a=r(t(6)),o=r(t(7)),i=r(t(2)),c=t(12),s=r(t(3)),d=r(t(13));function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={customerId:"",adPlan:"",content:{},extend:{},extParams:{},isRenderInMb:!0,size:{},containerSelector:"test",adCount:1,adType:"0",defaultStyle:"default",success:i.default,error:i.default};function m(e){return"string"==typeof e?e&&"{}"!==e?JSON.parse(e):{}:e}function f(e){var n=_(767)?"pc":"mb",t={assetUrl:"",adAssetId:"",assetName:""};return Object.keys(e).forEach((function(r){t.assetUrl=e[n],-1!==r.indexOf("".concat(n,"_asset_id"))&&(t.adAssetId=e[r]),-1!==r.indexOf("".concat(n,"_asset_name"))&&(t.assetName=e[r])})),t}function h(e){var n=_(767)?"pc":"mb",t={width:"",height:""};return e&&0!==Object.keys(e).length&&Object.keys(e).forEach((function(r){-1!==r.toLowerCase().indexOf(n)&&(t.width=e[r].width||"100%",t.height=e[r].height||"100%")})),t}function v(e){var n=e.extend,t=u(u({},e),m(n)),r=t.customerId,a=t.adType,o=t.content,i=t.size,c=t.adPlan,d=t.adCount,l=t.adName,p=t.adSpace,v=t.abTest,x=t.abVersion,_=t.recChannel,g=[];if("0"===a)g=b(t,g);else if((0,s.default)(o,"Array")){var y=function(e,n){for(var t=JSON.parse(JSON.stringify(e)),r=[],a=0;a<t.length;a++){var o=[];(o=(0,s.default)(t[a].id,"Array")?t[a].id:t[a].id.split(",")).filter((function(e){return e})).some((function(e){return window.existadAssetIdList.includes(e)}))||r.push(u(u({},t[a]),{},{ids:o}))}for(var i=0;i<n;i++){var c=r[i].ids.filter((function(e){return e})).filter((function(e){return!window.existadAssetIdList.includes(e)}));window.existadAssetIdList=window.existadAssetIdList.concat(c)}if(r.length>=n)return r.splice(0,n);return r}(o,d);if(!y.length)return g=b(e,g),!1;for(var w=h(i),O=w.width,j=w.height,I=0;I<y.length;I++){var P,A,S={href:"",assetUrl:"",mate:{},height:"",width:"",assetId:"",assetName:""},E=void 0;A=(E=null!==(P=y[I])&&void 0!==P&&P.extend?m(y[I].extend):f(y[I].img)).assetUrl;var C={ad_name:l,ad_plan:c,ad_space:p,ab_test:v,ab_version:x,ad_assetId:E.adAssetId,ad_assetname:E.assetName,ad_activity:E.activity,rec_channel:_,rec_position:y.length+1,rec_account:r,rec_material:y[I].id,rec_source:y[I].source};y[I]&&(S.href=E.targetUrl||y[I].href,S.mate=C,S.width=O,S.height=j,S.assetUrl=A,S.assetId=E.adAssetId,S.assetName=E.assetName),S.assetUrl&&g.push(S)}}else g=b(e,g);return g}function b(e,n){var t=e.extend,r=u(u({},e),m(t)),a=r.customerId,o=r.adType,i=r.content,c=r.size,d=r.adPlan,l=r.adName,p=r.adSpace,v=r.recChannel;if((0,s.default)(i,"Array"))return i.map((function(e,n){var t=e.img,i=e.href,s=e.id,u=e.activity,m=h(c),b=m.width,x=m.height,_=f(t),g=s&&s.length?s.join(","):null==r?void 0:r.recMaterial;return{href:i,mate:{ad_name:l,ad_plan:d,ad_space:p,ad_activity:u,ad_assetId:null==_?void 0:_.adAssetId,rec_channel:v||"",ad_assetname:null==_?void 0:_.assetName,rec_position:n+1,rec_account:a,rec_material:g,rec_source:"0"===o||"1"===o?"mannul_fixed":"mannul_targeted"},assetUrl:_.assetUrl,width:b,height:x}}));if((0,s.default)(i.img,"Object")){var b=i.img,x=i.href,_=i.id,g=i.activity,y=h(c),w=y.width,O=y.height,j=f(b),I=_&&_.length?_.join(","):null==r?void 0:r.recMaterial;return[{href:x,mate:{ad_name:l,ad_plan:d,ad_space:p,ad_activity:g,ad_assetId:null==j?void 0:j.adAssetId,rec_channel:v||"",ad_assetname:null==j?void 0:j.assetName,rec_position:n.length+1,rec_account:a,rec_material:I,rec_source:"0"===o||"1"===o?"mannul_fixed":"mannul_targeted"},assetUrl:j.assetUrl,width:w,height:O}]}return[]}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"defaults",n=arguments.length>1?arguments[1]:void 0,t={defaults:"\n            .pep-ad-img-wrapper{\n                box-sizing: border-box;\n                display: block;\n                position: relative;\n                text-decoration: none;\n                overflow: hidden;\n                margin:0px auto;\n            }\n            .pep-smart-recommend-img-card img {\n                width: 100%;\n                height: auto;\n            }\n        ",multiImg:'.pep-smart-recommends-container{\n            max-width: 1280px;\n            margin: 0px auto;\n        }\n        .pep-smart-recommends-container:before,\n        .pep-smart-recommends-container:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .pep-smart-recommends-wrapper {\n          display: flex;\n          flex-wrap: wrap;\n          text-align: left;\n        }\n        .pep-smart-recommends-col {\n          box-sizing: border-box;\n          width: 33.33333333%;\n          padding: 0 8px;\n          min-width: 0;\n        }\n        .pep-smart-recommends-card {\n          box-sizing: border-box;\n          display: block;\n          position: relative;\n          height: 100%;\n          padding: 0;\n          box-shadow: 0px 1px 4px 0px rgba(0,0,0,0.06); \n          font-size:0;\n          color: #575d6c;\n          text-decoration: none;\n          transition: box-shadow 0.2s;\n        }\n        .pep-smart-recommends-card i {\n          position: absolute;\n          top: 24px;\n          left: 24px;\n          width: 48px;\n          height: 48px;\n          font-size: 48px;\n          color: #252b3a;\n        }\n        .pep-smart-recommends-card i::before {\n          font-size: 48px;\n        }\n        .pep-smart-recommends-card-img {\n          width:100%;\n          box-shadow: 0px 1px 4px 0px rgba(0,0,0,0.06); \n        }\n        .pep-smart-recommends-card-desc {\n          margin-top: 8px;\n          font-size: 14px;\n          line-height: 20px;\n          color: #575d6c;\n        }\n        .pep-smart-recommends-card:hover {\n          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);\n        }\n        .pep-smart-recommends-card:hover .pep-smart-recommends-card-title {\n          color: #c7000b;\n        }\n        @media (max-width: 767px) {\n            .pep-smart-recommends-col {\n                width: 100%;\n            }\n            .pep-smart-recommends-col + .pep-smart-recommends-col{\n                margin-top:8px\n            }\n        }',multiImgConsole:'.pep-smart-recommends-container{\n            display: flex;\n            justify-content: center;\n        }\n        .pep-smart-recommends-container:before,\n        .pep-smart-recommends-container:after {\n          content: "";\n          display: table;\n          clear: both;\n        }\n        .pep-smart-recommends-wrapper {\n          display: flex;\n          flex-wrap: wrap;\n          text-align: left;\n          margin: -8px;\n        }\n        .pep-smart-recommends-col {\n          box-sizing: border-box;\n          width: '.concat(n,"px;\n          padding: 8px;\n          min-width: 0;\n        }\n        .pep-smart-recommends-card {\n          box-sizing: border-box;\n          display: block;\n          position: relative;\n          padding: 0;\n          box-shadow: 0px 1px 4px 0px rgba(0,0,0,0.06); \n          font-size:0;\n          color: #575d6c;\n          text-decoration: none;\n          transition: box-shadow 0.2s;\n        }\n        .pep-smart-recommends-card i {\n          position: absolute;\n          top: 24px;\n          left: 24px;\n          width: 48px;\n          height: 48px;\n          font-size: 48px;\n          color: #252b3a;\n        }\n        .pep-smart-recommends-card i::before {\n          font-size: 48px;\n        }\n        .pep-smart-recommends-card-img {\n          width:100%;\n          box-shadow: 0px 1px 4px 0px rgba(0,0,0,0.06); \n        }\n        .pep-smart-recommends-card-desc {\n          margin-top: 8px;\n          font-size: 14px;\n          line-height: 20px;\n          color: #575d6c;\n        }\n        .pep-smart-recommends-card:hover {\n          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);\n        }\n        .pep-smart-recommends-card:hover .pep-smart-recommends-card-title {\n          color: #c7000b;\n        }\n        @media (max-width: 767px) {\n            .pep-smart-recommends-col {\n                width: 100%;\n            }\n            .pep-smart-recommends-col + .pep-smart-recommends-col{\n                margin-top:8px\n            }\n        }")},r=t[e]||t.defaults,a=document.createElement("style");return a.textContent=r,a}function _(e){var n="mediaQuery"+(new Date).getTime(),t='<span class="'+n+'"><style>.'+n+"{font-size: 0 !important;}@media(min-width: "+e+"px){."+n+"{font-size: 20px !important;}}</style></span>",r=$("body").append(t).find("."+n),a="20px"===r.css("font-size");return r.remove(),a}function g(e){var n=document.createElement("div");n.innerHTML=e;var t=n.firstElementChild;return n.removeChild(t),t}window.existadAssetIdList=[]},function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},function(e,n,t){var r=t(8),a=t(9),o=t(10),i=t(11);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},function(e,n,t){var r=t(1);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,n){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,n,t){var r=t(1);e.exports=function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}},function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,n,t){"use strict";var r=t(0);Object.defineProperty(n,"__esModule",{value:!0}),n.default=i,n.ajaxMultiple=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.default,o=0,c=0,s=[],d=function(a,d){s.push(a);var l=e[a],u=l.success;l.success=function(e){o++,c++,s.splice(a,1,e),u&&u(e),o>=d&&n.apply(void 0,s),c>=d&&r.apply(void 0,s)};var p=l.error,m=!1;l.error=function(e){c++,s.splice(a,1,e),p&&p(e),!1===m&&(m=!0,t()),c>=d&&r.apply(void 0,s)},i(l)},l=0,u=e.length;l<u;l++)d(l,u)};var a=r(t(2)),o=r(t(3));function i(e){var n,t=e.method,r=void 0===t?"GET":t,a=e.url,i=void 0===a?"":a,c=e.data,s=void 0===c?{}:c,d=e.success,l=void 0===d?function(){}:d,u=e.error,p=void 0===u?function(){}:u,m=e.headers,f=void 0===m?{}:m,h=e.xhrFields,v=void 0===h?{}:h;r=r.toLocaleUpperCase(),(0,o.default)(s,"Object")&&(n=function(e){var n="";for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(void 0===r)continue;null===r&&(r=""),n+="".concat(t,"=").concat(encodeURIComponent(e[t]),"&")}return n.slice(0,-1)}(s));var b=new XMLHttpRequest;if("GET"===r&&(0,o.default)(n,"String")&&(-1===i.indexOf("?")?i+="?".concat(n):i+="&".concat(n)),b.open(r,i,!0),b.onreadystatechange=function(){4===b.readyState&&(200===b.status?l(JSON.parse(b.responseText)):p(b.responseText))},(0,o.default)(f,"Object"))for(var x in f)f.hasOwnProperty(x)&&b.setRequestHeader(x,f[x]);for(var _ in v)v.hasOwnProperty(_)&&(b[_]=v[_]);"POST"===r?(!1===f||f["Content-Type"]||b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send((0,o.default)(n,"String")?n:s)):b.send()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e.getBoundingClientRect();if(!n)return!1;var t=document.documentElement,r=t.clientWidth,a=t.clientHeight,o=n.top,i=n.right,c=n.bottom,s=n.left;return(o>0&&o<=a||c>0&&c<=a||o<0&&c>=a)&&(s>0&&s<=r||i>0&&i<=r||s<0&&i>=r)}}])}));