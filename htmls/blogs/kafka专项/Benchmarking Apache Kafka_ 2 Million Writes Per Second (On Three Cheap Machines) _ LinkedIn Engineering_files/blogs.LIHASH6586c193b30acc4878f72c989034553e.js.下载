_define=define;define=null;(function(e,t){if(typeof exports==="object"&&exports){t(exports)}else{var n={};t(n);if(typeof define==="function"&&define.amd){define("mustache",n)}else{e.Mustache=n}}})(this,function(m){var y=/\s*/;var k=/\s+/;var t=/\S/;var b=/\s*=/;var _=/\s*\}/;var x=/#|\^|\/|>|\{|&|=|!/;var n=RegExp.prototype.test;function r(e,t){return n.call(e,t)}function U(e){return!r(t,e)}var i=Object.prototype.toString;var h=Array.isArray||function(e){return i.call(e)==="[object Array]"};function E(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function e(e){return String(e).replace(/[&<>"'\/]/g,function(e){return a[e]})}function P(e){this.string=e;this.tail=e;this.pos=0}P.prototype.eos=function(){return this.tail===""};P.prototype.scan=function(e){var t=this.tail.match(e);if(t&&t.index===0){this.tail=this.tail.substring(t[0].length);this.pos+=t[0].length;return t[0]}return""};P.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n);this.tail=this.tail.substring(n);this.pos+=n}return t};function o(e,t){this.view=e||{};this.parent=t;this._cache={}}o.make=function(e){return e instanceof o?e:new o(e)};o.prototype.push=function(e){return new o(e,this)};o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if(e=="."){t=this.view}else{var n=this;while(n){if(e.indexOf(".")>0){t=n.view;var r=e.split("."),i=0;while(t&&i<r.length){t=t[r[i++]]}}else{t=n.view[e]}if(t!=null)break;n=n.parent}}this._cache[e]=t}if(typeof t==="function")t=t.call(this.view);return t};function s(){this.clearCache()}s.prototype.clearCache=function(){this._cache={};this._partialCache={}};s.prototype.compile=function(e,t){var n=this._cache[e];if(!n){var r=m.parse(e,t);n=this._cache[e]=this.compileTokens(r,e)}return n};s.prototype.compilePartial=function(e,t,n){var r=this.compile(t,n);this._partialCache[e]=r;return r};s.prototype.getPartial=function(e){if(!(e in this._partialCache)&&this._loadPartial){this.compilePartial(e,this._loadPartial(e))}return this._partialCache[e]};s.prototype.compileTokens=function(r,i){var a=this;return function(e,t){if(t){if(typeof t==="function"){a._loadPartial=t}else{for(var n in t){a.compilePartial(n,t[n])}}}return v(r,a,o.make(e),i)}};s.prototype.render=function(e,t,n){return this.compile(e)(t,n)};function v(e,t,n,r){var i="";var a,o,s;for(var l=0,c=e.length;l<c;++l){a=e[l];o=a[1];switch(a[0]){case"#":s=n.lookup(o);if(typeof s==="object"){if(h(s)){for(var f=0,u=s.length;f<u;++f){i+=v(a[4],t,n.push(s[f]),r)}}else if(s){i+=v(a[4],t,n.push(s),r)}}else if(typeof s==="function"){var p=r==null?null:r.slice(a[3],a[5]);s=s.call(n.view,p,function(e){return t.render(e,n)});if(s!=null)i+=s}else if(s){i+=v(a[4],t,n,r)}break;case"^":s=n.lookup(o);if(!s||h(s)&&s.length===0){i+=v(a[4],t,n,r)}break;case">":s=t.getPartial(o);if(typeof s==="function")i+=s(n);break;case"&":s=n.lookup(o);if(s!=null)i+=s;break;case"name":s=n.lookup(o);if(s!=null)i+=m.escape(s);break;case"text":i+=o;break}}return i}function C(e){var t=[];var n=t;var r=[];var i;for(var a=0,o=e.length;a<o;++a){i=e[a];switch(i[0]){case"#":case"^":r.push(i);n.push(i);n=i[4]=[];break;case"/":var s=r.pop();s[5]=i[2];n=r.length>0?r[r.length-1][4]:t;break;default:n.push(i)}}return t}function j(e){var t=[];var n,r;for(var i=0,a=e.length;i<a;++i){n=e[i];if(n){if(n[0]==="text"&&r&&r[0]==="text"){r[1]+=n[1];r[3]=n[3]}else{r=n;t.push(n)}}}return t}function A(e){return[new RegExp(E(e[0])+"\\s*"),new RegExp("\\s*"+E(e[1]))]}function l(e,t){e=e||"";t=t||m.tags;if(typeof t==="string")t=t.split(k);if(t.length!==2)throw new Error("Invalid tags: "+t.join(", "));var n=A(t);var r=new P(e);var i=[];var a=[];var o=[];var s=false;var l=false;function c(){if(s&&!l){while(o.length){delete a[o.pop()]}}else{o=[]}s=false;l=false}var f,u,p,h,v;while(!r.eos()){f=r.pos;p=r.scanUntil(n[0]);if(p){for(var g=0,w=p.length;g<w;++g){h=p.charAt(g);if(U(h)){o.push(a.length)}else{l=true}a.push(["text",h,f,f+1]);f+=1;if(h=="\n")c()}}if(!r.scan(n[0]))break;s=true;u=r.scan(x)||"name";r.scan(y);if(u==="="){p=r.scanUntil(b);r.scan(b);r.scanUntil(n[1])}else if(u==="{"){p=r.scanUntil(new RegExp("\\s*"+E("}"+t[1])));r.scan(_);r.scanUntil(n[1]);u="&"}else{p=r.scanUntil(n[1])}if(!r.scan(n[1]))throw new Error("Unclosed tag at "+r.pos);v=[u,p,f,r.pos];a.push(v);if(u==="#"||u==="^"){i.push(v)}else if(u==="/"){if(i.length===0)throw new Error('Unopened section "'+p+'" at '+f);var d=i.pop();if(d[1]!==p)throw new Error('Unclosed section "'+d[1]+'" at '+f)}else if(u==="name"||u==="{"||u==="&"){l=true}else if(u==="="){t=p.split(k);if(t.length!==2)throw new Error("Invalid tags at "+f+": "+t.join(", "));n=A(t)}}var d=i.pop();if(d)throw new Error('Unclosed section "'+d[1]+'" at '+r.pos);a=j(a);return C(a)}m.name="mustache.js";m.version="0.7.2";m.tags=["{{","}}"];m.Scanner=P;m.Context=o;m.Writer=s;m.parse=l;m.escape=e;var c=new s;m.clearCache=function(){return c.clearCache()};m.compile=function(e,t){return c.compile(e,t)};m.compilePartial=function(e,t,n){return c.compilePartial(e,t,n)};m.compileTokens=function(e,t){return c.compileTokens(e,t)};m.render=function(e,t,n){return c.render(e,t,n)};m.to_html=function(e,t,n,r){var i=m.render(e,t,n);if(typeof r==="function"){r(i)}else{return i}}});define=_define;
//# sourceMappingURL=mustache_optimized.min.js.map
(function(f){var d=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return typeof t==="string"},isNumber:function(t){return typeof t==="number"},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(t){return typeof t==="undefined"},toStr:function t(e){return d.isUndefined(e)||e===null?"":e+""},bind:f.proxy,each:function(t,n){f.each(t,e);function e(t,e){return n(e,t)}},map:f.map,filter:f.grep,every:function(n,i){var r=true;if(!n){return r}f.each(n,function(t,e){if(!(r=i.call(null,e,t,n))){return false}});return!!r},some:function(n,i){var r=false;if(!n){return r}f.each(n,function(t,e){if(r=i.call(null,e,t,n)){return false}});return!!r},mixin:f.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function t(e){return f.isFunction(e)?e:n;function n(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(r,s,o){var u,a;return function(){var t=this,e=arguments,n,i;n=function(){u=null;if(!o){a=r.apply(t,e)}};i=o&&!u;clearTimeout(u);u=setTimeout(n,s);if(i){a=r.apply(t,e)}return a}},throttle:function(n,i){var r,s,o,u,a,c;a=0;c=function(){a=new Date;o=null;u=n.apply(r,s)};return function(){var t=new Date,e=i-(t-a);r=this;s=arguments;if(e<=0){clearTimeout(o);o=null;a=t;u=n.apply(r,s)}else if(!o){o=setTimeout(c,e)}return u}},noop:function(){}}}();var i="0.10.5";var t=function(){"use strict";return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}};function t(t){t=d.toStr(t);return t?t.split(/\s+/):[]}function e(t){t=d.toStr(t);return t?t.split(/\W+/):[]}function n(r){return function t(){var i=[].slice.call(arguments,0);return function t(e){var n=[];d.each(i,function(t){n=n.concat(r(d.toStr(e[t])))});return n}}}}();var r=function(){"use strict";function t(t){this.maxSize=d.isNumber(t)?t:100;this.reset();if(this.maxSize<=0){this.set=this.get=f.noop}}d.mixin(t.prototype,{set:function t(e,n){var i=this.list.tail,r;if(this.size>=this.maxSize){this.list.remove(i);delete this.hash[i.key]}if(r=this.hash[e]){r.val=n;this.list.moveToFront(r)}else{r=new s(e,n);this.list.add(r);this.hash[e]=r;this.size++}},get:function t(e){var n=this.hash[e];if(n){this.list.moveToFront(n);return n.val}},reset:function t(){this.size=0;this.hash={};this.list=new e}});function e(){this.head=this.tail=null}d.mixin(e.prototype,{add:function t(e){if(this.head){e.next=this.head;this.head.prev=e}this.head=e;this.tail=this.tail||e},remove:function t(e){e.prev?e.prev.next=e.next:this.head=e.next;e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(t){this.remove(t);this.add(t)}});function s(t,e){this.key=t;this.val=e;this.prev=this.next=null}return t}();var u=function(){"use strict";var r,t;try{r=window.localStorage;r.setItem("~~~","!");r.removeItem("~~~")}catch(t){r=null}function e(t){this.prefix=["__",t,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+d.escapeRegExChars(this.prefix))}if(r&&window.JSON){t={_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){if(this.isExpired(t)){this.remove(t)}return n(r.getItem(this._prefix(t)))},set:function(t,e,n){if(d.isNumber(n)){r.setItem(this._ttlKey(t),s(i()+n))}else{r.removeItem(this._ttlKey(t))}return r.setItem(this._prefix(t),s(e))},remove:function(t){r.removeItem(this._ttlKey(t));r.removeItem(this._prefix(t));return this},clear:function(){var t,e,n=[],i=r.length;for(t=0;t<i;t++){if((e=r.key(t)).match(this.keyMatcher)){n.push(e.replace(this.keyMatcher,""))}}for(t=n.length;t--;){this.remove(n[t])}return this},isExpired:function(t){var e=n(r.getItem(this._ttlKey(t)));return d.isNumber(e)&&i()>e?true:false}}}else{t={get:d.noop,set:d.noop,remove:d.noop,clear:d.noop,isExpired:d.noop}}d.mixin(e.prototype,t);return e;function i(){return(new Date).getTime()}function s(t){return JSON.stringify(d.isUndefined(t)?null:t)}function n(t){return JSON.parse(t)}}();var a=function(){"use strict";var a=0,c={},h=6,e=new r(10);function t(t){t=t||{};this.cancelled=false;this.lastUrl=null;this._send=t.transport?n(t.transport):f.ajax;this._get=t.rateLimiter?t.rateLimiter(this._get):this._get;this._cache=t.cache===false?new r(0):e}t.setMaxPendingRequests=function t(e){h=e};t.resetCache=function t(){e.reset()};d.mixin(t.prototype,{_get:function(e,t,n){var i=this,r;if(this.cancelled||e!==this.lastUrl){return}if(r=c[e]){r.done(s).fail(o)}else if(a<h){a++;c[e]=this._send(e,t).done(s).fail(o).always(u)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function s(t){n&&n(null,t);i._cache.set(e,t)}function o(){n&&n(true)}function u(){a--;delete c[e];if(i.onDeckRequestArgs){i._get.apply(i,i.onDeckRequestArgs);i.onDeckRequestArgs=null}}},get:function(t,e,n){var i;if(d.isFunction(e)){n=e;e={}}this.cancelled=false;this.lastUrl=t;if(i=this._cache.get(t)){d.defer(function(){n&&n(null,i)})}else{this._get(t,e,n)}return!!i},cancel:function(){this.cancelled=true}});return t;function n(o){return function t(e,n){var i=f.Deferred();o(e,n,r,s);return i;function r(t){d.defer(function(){i.resolve(t)})}function s(t){d.defer(function(){i.reject(t)})}}}}();var c=function(){"use strict";function t(t){t=t||{};if(!t.datumTokenizer||!t.queryTokenizer){f.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=t.datumTokenizer;this.queryTokenizer=t.queryTokenizer;this.reset()}d.mixin(t.prototype,{bootstrap:function t(e){this.datums=e.datums;this.trie=e.trie},add:function(t){var s=this;t=d.isArray(t)?t:[t];d.each(t,function(t){var r,e;r=s.datums.push(t)-1;e=i(s.datumTokenizer(t));d.each(e,function(t){var e,n,i;e=s.trie;n=t.split("");while(i=n.shift()){e=e.children[i]||(e.children[i]=o());e.ids.push(r)}})})},get:function t(e){var s=this,n,o;n=i(this.queryTokenizer(e));d.each(n,function(t){var e,n,i,r;if(o&&o.length===0){return false}e=s.trie;n=t.split("");while(e&&(i=n.shift())){e=e.children[i]}if(e&&n.length===0){r=e.ids.slice(0);o=o?u(o,r):r}else{o=[];return false}});return o?d.map(r(o),function(t){return s.datums[t]}):[]},reset:function t(){this.datums=[];this.trie=o()},serialize:function t(){return{datums:this.datums,trie:this.trie}}});return t;function i(t){t=d.filter(t,function(t){return!!t});t=d.map(t,function(t){return t.toLowerCase()});return t}function o(){return{ids:[],children:{}}}function r(t){var e={},n=[];for(var i=0,r=t.length;i<r;i++){if(!e[t[i]]){e[t[i]]=true;n.push(t[i])}}return n}function u(t,e){var n=0,i=0,r=[];t=t.sort(u);e=e.sort(u);var s=t.length,o=e.length;while(n<s&&i<o){if(t[n]<e[i]){n++}else if(t[n]>e[i]){i++}else{r.push(t[n]);n++;i++}}return r;function u(t,e){return t-e}}}();var h=function(){"use strict";return{local:t,prefetch:e,remote:n};function t(t){return t.local||null}function e(t){var e,n;n={url:null,thumbprint:"",ttl:24*60*60*1e3,filter:null,ajax:{}};if(e=t.prefetch||null){e=d.isString(e)?{url:e}:e;e=d.mixin(n,e);e.thumbprint=i+e.thumbprint;e.ajax.type=e.ajax.type||"GET";e.ajax.dataType=e.ajax.dataType||"json";!e.url&&f.error("prefetch requires url to be set")}return e}function n(t){var e,n;n={url:null,cache:true,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(e=t.remote||null){e=d.isString(e)?{url:e}:e;e=d.mixin(n,e);e.rateLimiter=/^throttle$/i.test(e.rateLimitBy)?r(e.rateLimitWait):i(e.rateLimitWait);e.ajax.type=e.ajax.type||"GET";e.ajax.dataType=e.ajax.dataType||"json";delete e.rateLimitBy;delete e.rateLimitWait;!e.url&&f.error("remote requires url to be set")}return e;function i(e){return function(t){return d.debounce(t,e)}}function r(e){return function(t){return d.throttle(t,e)}}}}();(function(e){"use strict";var n,r;n=e.Bloodhound;r={data:"data",protocol:"protocol",thumbprint:"thumbprint"};e.Bloodhound=i;function i(t){if(!t||!t.local&&!t.prefetch&&!t.remote){f.error("one of local, prefetch, or remote is required")}this.limit=t.limit||5;this.sorter=s(t.sorter);this.dupDetector=t.dupDetector||o;this.local=h.local(t);this.prefetch=h.prefetch(t);this.remote=h.remote(t);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new c({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer});this.storage=this.cacheKey?new u(this.cacheKey):null}i.noConflict=function t(){e.Bloodhound=n;return i};i.tokenizers=t;d.mixin(i.prototype,{_loadPrefetch:function t(e){var n=this,i,r;if(i=this._readFromStorage(e.thumbprint)){this.index.bootstrap(i);r=f.Deferred().resolve()}else{r=f.ajax(e.url,e.ajax).done(s)}return r;function s(t){n.clear();n.add(e.filter?e.filter(t):t);n._saveToStorage(n.index.serialize(),e.thumbprint,e.ttl)}},_getFromRemote:function t(e,n){var i=this,r,s;if(!this.transport){return}e=e||"";s=encodeURIComponent(e);r=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,s);return this.transport.get(r,this.remote.ajax,o);function o(t,e){t?n([]):n(i.remote.filter?i.remote.filter(e):e)}},_cancelLastRemoteRequest:function t(){this.transport&&this.transport.cancel()},_saveToStorage:function t(e,n,i){if(this.storage){this.storage.set(r.data,e,i);this.storage.set(r.protocol,location.protocol,i);this.storage.set(r.thumbprint,n,i)}},_readFromStorage:function t(e){var n={},i;if(this.storage){n.data=this.storage.get(r.data);n.protocol=this.storage.get(r.protocol);n.thumbprint=this.storage.get(r.thumbprint)}i=n.thumbprint!==e||n.protocol!==location.protocol;return n.data&&!i?n.data:null},_initialize:function t(){var e=this,n=this.local,i;i=this.prefetch?this._loadPrefetch(this.prefetch):f.Deferred().resolve();n&&i.done(r);this.transport=this.remote?new a(this.remote):null;return this.initPromise=i.promise();function r(){e.add(d.isFunction(n)?n():n)}},initialize:function t(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function t(e){this.index.add(e)},get:function t(e,i){var r=this,s=[],n=false;s=this.index.get(e);s=this.sorter(s).slice(0,this.limit);s.length<this.limit?n=this._getFromRemote(e,o):this._cancelLastRemoteRequest();if(!n){(s.length>0||!this.transport)&&i&&i(s)}function o(t){var n=s.slice(0);d.each(t,function(e){var t;t=d.some(n,function(t){return r.dupDetector(e,t)});!t&&n.push(e);return n.length<r.limit});i&&i(r.sorter(n))}},clear:function t(){this.index.reset()},clearPrefetchCache:function t(){this.storage&&this.storage.clear()},clearRemoteCache:function t(){this.transport&&a.resetCache()},ttAdapter:function t(){return d.bind(this.get,this)}});return i;function s(e){return d.isFunction(e)?t:n;function t(t){return t.sort(e)}function n(t){return t}}function o(){return false}})(this);var p=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}();var g=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(d.isMsie()){d.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(d.isMsie()&&d.isMsie()<=7){d.mixin(t.input,{marginTop:"-1px"})}return t}();var l=function(){"use strict";var n="typeahead:";function t(t){if(!t||!t.el){f.error("EventBus initialized without el")}this.$el=f(t.el)}d.mixin(t.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(n+t,e)}});return t}();var m=function(){"use strict";var o=/\s+/,u=s();return{onSync:e,onAsync:t,off:n,trigger:r};function i(t,e,n,i){var r;if(!n){return this}e=e.split(o);n=i?c(n,i):n;this._callbacks=this._callbacks||{};while(r=e.shift()){this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]};this._callbacks[r][t].push(n)}return this}function t(t,e,n){return i.call(this,"async",t,e,n)}function e(t,e,n){return i.call(this,"sync",t,e,n)}function n(t){var e;if(!this._callbacks){return this}t=t.split(o);while(e=t.shift()){delete this._callbacks[e]}return this}function r(t){var e,n,i,r,s;if(!this._callbacks){return this}t=t.split(o);i=[].slice.call(arguments,1);while((e=t.shift())&&(n=this._callbacks[e])){r=a(n.sync,this,[e].concat(i));s=a(n.async,this,[e].concat(i));r()&&u(s)}return this}function a(i,r,s){return t;function t(){var t;for(var e=0,n=i.length;!t&&e<n;e+=1){t=i[e].apply(r,s)===false}return!t}}function s(){var t;if(window.setImmediate){t=function t(e){setImmediate(function(){e()})}}else{t=function t(e){setTimeout(function(){e()},0)}}return t}function c(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}}();var v=function(u){"use strict";var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function t(r){var s;r=d.mixin({},n,r);if(!r.node||!r.pattern){return}r.pattern=d.isArray(r.pattern)?r.pattern:[r.pattern];s=i(r.pattern,r.caseSensitive,r.wordsOnly);o(r.node,e);function e(t){var e,n,i;if(e=s.exec(t.data)){i=u.createElement(r.tagName);r.className&&(i.className=r.className);n=t.splitText(e.index);n.splitText(e[0].length);i.appendChild(n.cloneNode(true));t.parentNode.replaceChild(i,n)}return!!e}function o(t,e){var n,i=3;for(var r=0;r<t.childNodes.length;r++){n=t.childNodes[r];if(n.nodeType===i){r+=e(n)?1:0}else{o(n,e)}}}};function i(t,e,n){var i=[],r;for(var s=0,o=t.length;s<o;s++){i.push(d.escapeRegExChars(t[s]))}r=n?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")";return e?new RegExp(r):new RegExp(r,"i")}}(window.document);var y=function(){"use strict";var o;o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function n(t){var e=this,n,i,r,s;t=t||{};if(!t.input){f.error("input is missing")}n=d.bind(this._onBlur,this);i=d.bind(this._onFocus,this);r=d.bind(this._onKeydown,this);s=d.bind(this._onInput,this);this.$hint=f(t.hint);this.$input=f(t.input).on("blur.tt",n).on("focus.tt",i).on("keydown.tt",r);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=d.noop}if(!d.isMsie()){this.$input.on("input.tt",s)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){if(o[t.which||t.keyCode]){return}d.defer(d.bind(e._onInput,e,t))})}this.query=this.$input.val();this.$overflowHelper=u(this.$input)}n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};d.mixin(n.prototype,m,{_onBlur:function t(){this.resetInputValue();this.trigger("blurred")},_onFocus:function t(){this.trigger("focused")},_onKeydown:function t(e){var n=o[e.which||e.keyCode];this._managePreventDefault(n,e);if(n&&this._shouldTrigger(n,e)){this.trigger(n+"Keyed",e)}},_onInput:function t(){this._checkInputValue()},_managePreventDefault:function t(e,n){var i,r,s;switch(e){case"tab":r=this.getHint();s=this.getInputValue();i=r&&r!==s&&!a(n);break;case"up":case"down":i=!a(n);break;default:i=false}i&&n.preventDefault()},_shouldTrigger:function t(e,n){var i;switch(e){case"tab":i=!a(n);break;default:i=true}return i},_checkInputValue:function t(){var e,n,i;e=this.getInputValue();n=r(e,this.query);i=n?this.query.length!==e.length:false;this.query=e;if(!n){this.trigger("queryChanged",this.query)}else if(i){this.trigger("whitespaceChanged",this.query)}},focus:function t(){this.$input.focus()},blur:function t(){this.$input.blur()},getQuery:function t(){return this.query},setQuery:function t(e){this.query=e},getInputValue:function t(){return this.$input.val()},setInputValue:function t(e,n){this.$input.val(e);n?this.clearHint():this._checkInputValue()},resetInputValue:function t(){this.setInputValue(this.query,true)},getHint:function t(){return this.$hint.val()},setHint:function t(e){this.$hint.val(e)},clearHint:function t(){this.setHint("")},clearHintIfInvalid:function t(){var e,n,i,r;e=this.getInputValue();n=this.getHint();i=e!==n&&n.indexOf(e)===0;r=e!==""&&i&&!this.hasOverflow();!r&&this.clearHint()},getLanguageDirection:function t(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function t(){var e=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var t,e,n;t=this.$input.val().length;e=this.$input[0].selectionStart;if(d.isNumber(e)){return e===t}else if(document.selection){n=document.selection.createRange();n.moveStart("character",-t);return t===n.text.length}return true},destroy:function t(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return n;function u(t){return f('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}();var o=function(){"use strict";var c="ttDataset",h="ttValue",l="ttDatum";function t(t){t=t||{};t.templates=t.templates||{};if(!t.source){f.error("missing source")}if(t.name&&!i(t.name)){f.error("invalid dataset name: "+t.name)}this.query=null;this.highlight=!!t.highlight;this.name=t.name||d.getUniqueId();this.source=t.source;this.displayFn=e(t.display||t.displayKey);this.templates=n(t.templates,this.displayFn);this.$el=f(p.dataset.replace("%CLASS%",this.name))}t.extractDatasetName=function t(e){return f(e).data(c)};t.extractValue=function t(e){return f(e).data(h)};t.extractDatum=function t(e){return f(e).data(l)};d.mixin(t.prototype,m,{_render:function t(i,r){if(!this.$el){return}var s=this,e;this.$el.empty();e=r&&r.length;if(!e&&this.templates.empty){this.$el.html(n()).prepend(s.templates.header?u():null).append(s.templates.footer?a():null)}else if(e){this.$el.html(o()).prepend(s.templates.header?u():null).append(s.templates.footer?a():null)}this.trigger("rendered");function n(){return s.templates.empty({query:i,isEmpty:true})}function o(){var t,e;t=f(p.suggestions).css(g.suggestions);e=d.map(r,n);t.append.apply(t,e);s.highlight&&v({className:"tt-highlight",node:t[0],pattern:i});return t;function n(t){var e;e=f(p.suggestion).append(s.templates.suggestion(t)).data(c,s.name).data(h,s.displayFn(t)).data(l,t);e.children().each(function(){f(this).css(g.suggestionChild)});return e}}function u(){return s.templates.header({query:i,isEmpty:!e})}function a(){return s.templates.footer({query:i,isEmpty:!e})}},getRoot:function t(){return this.$el},update:function t(e){var n=this;this.query=e;this.canceled=false;this.source(e,i);function i(t){if(!n.canceled&&e===n.query){n._render(e,t)}}},cancel:function t(){this.canceled=true},clear:function t(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function t(){return this.$el.is(":empty")},destroy:function t(){this.$el=null}});return t;function e(e){e=e||"value";return d.isFunction(e)?e:t;function t(t){return t[e]}}function n(t,e){return{empty:t.empty&&d.templatify(t.empty),header:t.header&&d.templatify(t.header),footer:t.footer&&d.templatify(t.footer),suggestion:t.suggestion||n};function n(t){return"<p>"+e(t)+"</p>"}}function i(t){return/^[_a-zA-Z0-9-]+$/.test(t)}}();var _=function(){"use strict";function t(t){var e=this,n,i,r;t=t||{};if(!t.menu){f.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.datasets=d.map(t.datasets,s);n=d.bind(this._onSuggestionClick,this);i=d.bind(this._onSuggestionMouseEnter,this);r=d.bind(this._onSuggestionMouseLeave,this);this.$menu=f(t.menu).on("click.tt",".tt-suggestion",n).on("mouseenter.tt",".tt-suggestion",i).on("mouseleave.tt",".tt-suggestion",r);d.each(this.datasets,function(t){e.$menu.append(t.getRoot());t.onSync("rendered",e._onRendered,e)})}d.mixin(t.prototype,m,{_onSuggestionClick:function t(e){this.trigger("suggestionClicked",f(e.currentTarget))},_onSuggestionMouseEnter:function t(e){this._removeCursor();this._setCursor(f(e.currentTarget),true)},_onSuggestionMouseLeave:function t(){this._removeCursor()},_onRendered:function t(){this.isEmpty=d.every(this.datasets,e);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function e(t){return t.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function t(){return this.$menu.find(".tt-suggestion")},_getCursor:function t(){return this.$menu.find(".tt-cursor").first()},_setCursor:function t(e,n){e.first().addClass("tt-cursor");!n&&this.trigger("cursorMoved")},_removeCursor:function t(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function t(e){var n,i,r,s;if(!this.isOpen){return}i=this._getCursor();n=this._getSuggestions();this._removeCursor();r=n.index(i)+e;r=(r+1)%(n.length+1)-1;if(r===-1){this.trigger("cursorRemoved");return}else if(r<-1){r=n.length-1}this._setCursor(s=n.eq(r));this._ensureVisible(s)},_ensureVisible:function t(e){var n,i,r,s;n=e.position().top;i=n+e.outerHeight(true);r=this.$menu.scrollTop();s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(n<0){this.$menu.scrollTop(r+n)}else if(s<i){this.$menu.scrollTop(r+(i-s))}},close:function t(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function t(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function t(e){this.$menu.css(e==="ltr"?g.ltr:g.rtl)},moveCursorUp:function t(){this._moveCursor(-1)},moveCursorDown:function t(){this._moveCursor(+1)},getDatumForSuggestion:function t(e){var n=null;if(e.length){n={raw:o.extractDatum(e),value:o.extractValue(e),datasetName:o.extractDatasetName(e)}}return n},getDatumForCursor:function t(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function t(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function t(e){d.each(this.datasets,n);function n(t){t.update(e)}},empty:function t(){d.each(this.datasets,e);this.isEmpty=true;function e(t){t.clear()}},isVisible:function t(){return this.isOpen&&!this.isEmpty},destroy:function t(){this.$menu.off(".tt");this.$menu=null;d.each(this.datasets,e);function e(t){t.destroy()}}});return t;function s(t){return new o(t)}}();var w=function(){"use strict";var o="ttAttrs";function t(t){var r,s,e;t=t||{};if(!t.input){f.error("missing input")}this.isActivated=false;this.autoselect=!!t.autoselect;this.minLength=d.isNumber(t.minLength)?t.minLength:1;this.$node=n(t.input,t.withHint);r=this.$node.find(".tt-dropdown-menu");s=this.$node.find(".tt-input");e=this.$node.find(".tt-hint");s.on("blur.tt",function(t){var e,n,i;e=document.activeElement;n=r.is(e);i=r.has(e).length>0;if(d.isMsie()&&(n||i)){t.preventDefault();t.stopImmediatePropagation();d.defer(function(){s.focus()})}});r.on("mousedown.tt",function(t){t.preventDefault()});this.eventBus=t.eventBus||new l({el:s});this.dropdown=new _({menu:r,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new y({input:s,hint:e}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}d.mixin(t.prototype,{_onSuggestionClicked:function t(e,n){var i;if(i=this.dropdown.getDatumForSuggestion(n)){this._select(i)}},_onCursorMoved:function t(){var e=this.dropdown.getDatumForCursor();this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function t(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function t(){this._updateHint()},_onOpened:function t(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function t(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function t(){this.isActivated=true;this.dropdown.open()},_onBlurred:function t(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function t(e,n){var i,r;i=this.dropdown.getDatumForCursor();r=this.dropdown.getDatumForTopSuggestion();if(i){this._select(i);n.preventDefault()}else if(this.autoselect&&r){this._select(r);n.preventDefault()}},_onTabKeyed:function t(e,n){var i;if(i=this.dropdown.getDatumForCursor()){this._select(i);n.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function t(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function t(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function t(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function t(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function t(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function t(e,n){this.input.clearHintIfInvalid();n.length>=this.minLength?this.dropdown.update(n):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function t(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function t(){var e;if(this.dir!==(e=this.input.getLanguageDirection())){this.dir=e;this.$node.css("direction",e);this.dropdown.setLanguageDirection(e)}},_updateHint:function t(){var e,n,i,r,s,o;e=this.dropdown.getDatumForTopSuggestion();if(e&&this.dropdown.isVisible()&&!this.input.hasOverflow()){n=this.input.getInputValue();i=y.normalizeQuery(n);r=d.escapeRegExChars(i);s=new RegExp("^(?:"+r+")(.+$)","i");o=s.exec(e.value);o?this.input.setHint(n+o[1]):this.input.clearHint()}else{this.input.clearHint()}},_autocomplete:function t(e){var n,i,r,s;n=this.input.getHint();i=this.input.getQuery();r=e||this.input.isCursorAtEnd();if(n&&i!==n&&r){s=this.dropdown.getDatumForTopSuggestion();s&&this.input.setInputValue(s.value);this.eventBus.trigger("autocompleted",s.raw,s.datasetName)}},_select:function t(e){this.input.setQuery(e.value);this.input.setInputValue(e.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",e.raw,e.datasetName);this.dropdown.close();d.defer(d.bind(this.dropdown.empty,this.dropdown))},open:function t(){this.dropdown.open()},close:function t(){this.dropdown.close()},setVal:function t(e){e=d.toStr(e);if(this.isActivated){this.input.setInputValue(e)}else{this.input.setQuery(e);this.input.setInputValue(e,true)}this._setLanguageDirection()},getVal:function t(){return this.input.getQuery()},destroy:function t(){this.input.destroy();this.dropdown.destroy();e(this.$node);this.$node=null}});return t;function n(t,e){var n,i,r,s;n=f(t);i=f(p.wrapper).css(g.wrapper);r=f(p.dropdown).css(g.dropdown);s=n.clone().css(g.hint).css(u(n));s.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",true).attr({autocomplete:"off",spellcheck:"false",tabindex:-1});n.data(o,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")});n.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(e?g.input:g.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(t){}return n.wrap(i).parent().prepend(e?s:null).append(r)}function u(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function e(t){var n=t.find(".tt-input");d.each(n.data(o),function(t,e){d.isUndefined(t)?n.removeAttr(e):n.attr(e,t)});n.detach().removeData(o).removeClass("tt-input").insertAfter(t);t.remove()}}();(function(){"use strict";var e,s,n;e=f.fn.typeahead;s="ttTypeahead";n={initialize:function t(i,r){r=d.isArray(r)?r:[].slice.call(arguments,1);i=i||{};return this.each(e);function e(){var t=f(this),e,n;d.each(r,function(t){t.highlight=!!i.highlight});n=new w({input:t,eventBus:e=new l({el:t}),withHint:d.isUndefined(i.hint)?true:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:r});t.data(s,n)}},open:function t(){return this.each(e);function e(){var t=f(this),e;if(e=t.data(s)){e.open()}}},close:function t(){return this.each(e);function e(){var t=f(this),e;if(e=t.data(s)){e.close()}}},val:function t(n){return!arguments.length?i(this.first()):this.each(e);function e(){var t=f(this),e;if(e=t.data(s)){e.setVal(n)}}function i(t){var e,n;if(e=t.data(s)){n=e.getVal()}return n}},destroy:function t(){return this.each(e);function e(){var t=f(this),e;if(e=t.data(s)){e.destroy();t.removeData(s)}}}};f.fn.typeahead=function(t){var e;if(n[t]&&t!=="initialize"){e=this.filter(function(){return!!f(this).data(s)});return n[t].apply(e,[].slice.call(arguments,1))}else{return n.initialize.apply(this,arguments)}};f.fn.typeahead.noConflict=function t(){f.fn.typeahead=e;return this}})()})(window.jQuery);
//# sourceMappingURL=typeahead.min.js.map
(function(){if(typeof window.Microsites=="undefined"||!window.Microsites.searchEnabled){return}var t=$("#searchInput"),e=$(".main-site-navigation"),o=$(".site-navigation-list"),a=$(".icon-clear-search"),i=$(".search-input-li"),n=window.Microsites||{},s=n.searchJSONEndpoint,c=n?n.searchPath||"/":"/",l={header:Mustache.compile($("#typeahead-header").html()),footer:Mustache.compile($("#typeahead-footer").html().replace("{{search-url}}",c)),suggestion:Mustache.compile($("#typeahead-suggestion").html())},r=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:s+"&q=%QUERY"}}),h;function d(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(e>1080){o.addClass("search-active")}else{$("html, body").animate({scrollTop:i.offset().top},"fast")}if($(this).val()){a.show()}}t.on("focus",d);$(document.body).on("click",function(e){if(t[0]!==e.target&&a[0]!==e.target&&!$(e.target).hasClass("view-all-link")){o.removeClass("search-active");a.hide()}});t.on("keyup",function(){var e=$(this);if(e.val()){a.show()}else{a.hide()}});$("#search-cancel-button").on("click",function(){h.typeahead("close");e.toggleClass("menu-active");o.toggleClass("menu-active");o.toggleClass("selected");$("html, body").animate({scrollTop:0},"fast")});a.on("click",function(){t.val("");a.hide();t.focus()});r.initialize();h=$("#searchInput").typeahead({minLength:3,hint:false},{name:"blogs",displayKey:"title",source:r.ttAdapter(),templates:{header:l.header,footer:l.footer,suggestion:l.suggestion}});h.on("typeahead:selected",function(e,t){window.location.href=t.url})})();
//# sourceMappingURL=search.min.js.map
